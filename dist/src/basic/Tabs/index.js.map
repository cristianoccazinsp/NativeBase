{"version":3,"sources":["../../../../src/basic/Tabs/index.js"],"names":["React","require","Component","ReactNative","Dimensions","View","Animated","ScrollView","StyleSheet","Platform","TimerMixin","SceneComponent","DefaultTabBar","ScrollableTabBar","ScrollableTabView","mixins","statics","propTypes","tabBarPosition","PropTypes","oneOf","initialPage","number","page","onChangeTab","func","onScroll","renderTabBar","any","style","ViewPropTypes","contentProps","object","scrollWithoutAnimation","bool","locked","prerenderingSiblingsNumber","getDefaultProps","getInitialState","currentPage","props","scrollValue","Value","containerWidth","get","width","sceneKeys","newSceneKeys","componentDidMount","scrollFn","scrollView","state","setValue","InteractionManager","runAfterInteractions","setTimeout","scrollTo","x","animated","UNSAFE_componentWillReceiveProps","children","updateSceneKeys","goToPage","pageNumber","offset","y","callback","_onChangeTab","bind","cloneElement","newKeys","previousKeys","setState","_children","forEach","child","idx","key","_makeSceneKey","_keyExists","_shouldRenderSceneKey","push","currentPageKey","numOfSibling","find","sceneKey","heading","renderScrollableContent","scenes","_composeScenes","e","offsetX","nativeEvent","contentOffset","_updateScrollValue","_onMomentumScrollBeginAndEnd","map","Math","round","_updateSelectedPage","nextPage","localNextPage","position","prevPage","i","ref","from","value","_handleLayout","layout","requestAnimationFrame","Children","render","overlayTabs","tabBarProps","tabs","tabStyle","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","_","undefined","disabled","activeTab","tabBarBackgroundColor","backgroundColor","tabBarActiveTextColor","activeTextColor","tabBarInactiveTextColor","inactiveTextColor","tabBarTextStyle","tabBarUnderlineStyle","underlineStyle","tabContainerStyle","left","right","styles","container","create","flex","scrollableContentAndroid"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport createReactClass from 'create-react-class';\nimport _ from 'lodash';\nimport { InteractionManager, ViewPropTypes } from '../../utils';\nconst React = require('react');\nconst { Component } = React;\nconst ReactNative = require('react-native');\nconst {\n  Dimensions,\n  View,\n  Animated,\n  ScrollView,\n  StyleSheet,\n  Platform\n} = ReactNative;\nconst TimerMixin = require('react-timer-mixin');\n\nconst SceneComponent = require('./SceneComponent');\nconst { DefaultTabBar } = require('./DefaultTabBar');\nconst { ScrollableTabBar } = require('./ScrollableTabBar');\n\nconst ScrollableTabView = createReactClass({\n  mixins: [TimerMixin],\n  statics: {\n    DefaultTabBar,\n    ScrollableTabBar\n  },\n\n  propTypes: {\n    tabBarPosition: PropTypes.oneOf([\n      'top',\n      'bottom',\n      'overlayTop',\n      'overlayBottom'\n    ]),\n    initialPage: PropTypes.number,\n    page: PropTypes.number,\n    onChangeTab: PropTypes.func,\n    onScroll: PropTypes.func,\n    renderTabBar: PropTypes.any,\n    style: ViewPropTypes.style,\n    contentProps: PropTypes.object,\n    scrollWithoutAnimation: PropTypes.bool,\n    locked: PropTypes.bool,\n    prerenderingSiblingsNumber: PropTypes.number\n  },\n\n  getDefaultProps() {\n    return {\n      tabBarPosition: 'top',\n      initialPage: 0,\n      page: -1,\n      onChangeTab: () => {},\n      onScroll: () => {},\n      contentProps: {},\n      scrollWithoutAnimation: false,\n      locked: false,\n      prerenderingSiblingsNumber: 0\n    };\n  },\n\n  getInitialState() {\n    return {\n      currentPage: this.props.initialPage,\n      scrollValue: new Animated.Value(this.props.initialPage),\n      containerWidth: Dimensions.get('window').width,\n      sceneKeys: this.newSceneKeys({ currentPage: this.props.initialPage })\n    };\n  },\n\n  componentDidMount() {\n    const scrollFn = () => {\n      if (this.scrollView) {\n        this.state.scrollValue.setValue(this.props.initialPage);\n      }\n    };\n    InteractionManager.runAfterInteractions(scrollFn);\n    // because of contentOffset is not working on Android\n    setTimeout(() => {\n      if (this.scrollView) {\n        this.scrollView.scrollTo({\n          x: this.props.initialPage * this.state.containerWidth,\n          animated: false,\n        });\n      }\n    });\n  },\n\n  UNSAFE_componentWillReceiveProps(props) {\n    if (props.children !== this.props.children) {\n      this.updateSceneKeys({\n        page: this.state.currentPage,\n        children: props.children\n      });\n    }\n\n    if (props.page >= 0 && props.page !== this.state.currentPage) {\n      this.goToPage(props.page);\n    }\n  },\n\n  goToPage(pageNumber) {\n    const offset = pageNumber * this.state.containerWidth;\n    if (this.scrollView) {\n      this.scrollView.scrollTo({\n        x: offset,\n        y: 0,\n        animated: !this.props.scrollWithoutAnimation\n      });\n    }\n\n    const currentPage = this.state.currentPage;\n    this.updateSceneKeys({\n      page: pageNumber,\n      callback: this._onChangeTab.bind(this, currentPage, pageNumber)\n    });\n  },\n\n  renderTabBar(props) {\n    if (this.props.renderTabBar === false) {\n      return null;\n    } else if (this.props.renderTabBar) {\n      return React.cloneElement(this.props.renderTabBar(props), props);\n    }\n    return <DefaultTabBar {...props} />;\n  },\n\n  updateSceneKeys({\n    page,\n    children = this.props.children,\n    callback = () => {}\n  }) {\n    const newKeys = this.newSceneKeys({\n      previousKeys: this.state.sceneKeys,\n      currentPage: page,\n      children\n    });\n    this.setState({ currentPage: page, sceneKeys: newKeys }, callback);\n  },\n\n  newSceneKeys({\n    previousKeys = [],\n    currentPage = 0,\n    children = this.props.children\n  }) {\n    const newKeys = [];\n    this._children(children).forEach((child, idx) => {\n      const key = this._makeSceneKey(child, idx);\n      if (\n        this._keyExists(previousKeys, key) ||\n        this._shouldRenderSceneKey(idx, currentPage)\n      ) {\n        newKeys.push(key);\n      }\n    });\n    return newKeys;\n  },\n\n  _shouldRenderSceneKey(idx, currentPageKey) {\n    const numOfSibling = this.props.prerenderingSiblingsNumber;\n    return (\n      idx < currentPageKey + numOfSibling + 1 &&\n      idx > currentPageKey - numOfSibling - 1\n    );\n  },\n\n  _keyExists(sceneKeys, key) {\n    return sceneKeys.find(sceneKey => key === sceneKey);\n  },\n\n  _makeSceneKey(child, idx) {\n    return `${child.props.heading}_${idx}`;\n  },\n\n  renderScrollableContent() {\n    const scenes = this._composeScenes();\n    return (\n      <ScrollView\n        horizontal\n        pagingEnabled\n        automaticallyAdjustContentInsets={false}\n        keyboardShouldPersistTaps=\"handled\"\n        contentOffset={{\n          x: this.props.initialPage * this.state.containerWidth\n        }}\n        ref={scrollView => {\n          this.scrollView = scrollView;\n        }}\n        onScroll={e => {\n          const offsetX = e.nativeEvent.contentOffset.x;\n          this._updateScrollValue(offsetX / this.state.containerWidth);\n        }}\n        onMomentumScrollBegin={this._onMomentumScrollBeginAndEnd}\n        onMomentumScrollEnd={this._onMomentumScrollBeginAndEnd}\n        scrollEventThrottle={16}\n        scrollsToTop={false}\n        showsHorizontalScrollIndicator={false}\n        scrollEnabled={!this.props.locked}\n        directionalLockEnabled\n        alwaysBounceVertical={false}\n        keyboardDismissMode=\"on-drag\"\n        {...this.props.contentProps}\n      >\n        {scenes}\n      </ScrollView>\n    );\n  },\n\n  _composeScenes() {\n    return this._children().map((child, idx) => {\n      const key = this._makeSceneKey(child, idx);\n      return (\n        <SceneComponent\n          key={child.key}\n          shouldUpdated={this._shouldRenderSceneKey(\n            idx,\n            this.state.currentPage\n          )}\n          style={{ width: this.state.containerWidth }}\n        >\n          {this._keyExists(this.state.sceneKeys, key) ? (\n            child\n          ) : (\n            <View heading={child.props.heading} />\n          )}\n        </SceneComponent>\n      );\n    });\n  },\n\n  _onMomentumScrollBeginAndEnd(e) {\n    const offsetX = e.nativeEvent.contentOffset.x;\n    const page = Math.round(offsetX / this.state.containerWidth);\n    if (this.state.currentPage !== page) {\n      this._updateSelectedPage(page);\n    }\n  },\n\n  _updateSelectedPage(nextPage) {\n    let localNextPage = nextPage;\n    if (typeof localNextPage === 'object') {\n      localNextPage = nextPage.nativeEvent.position;\n    }\n\n    const currentPage = this.state.currentPage;\n    this.updateSceneKeys({\n      page: localNextPage,\n      callback: this._onChangeTab.bind(this, currentPage, localNextPage)\n    });\n  },\n\n  _onChangeTab(prevPage, currentPage) {\n    this.props.onChangeTab({\n      i: currentPage,\n      ref: this._children()[currentPage],\n      from: prevPage\n    });\n  },\n\n  _updateScrollValue(value) {\n    this.state.scrollValue.setValue(value);\n    this.props.onScroll(value);\n  },\n\n  _handleLayout(e) {\n    const { width } = e.nativeEvent.layout;\n\n    if (\n      !width ||\n      width <= 0 ||\n      Math.round(width) === Math.round(this.state.containerWidth)\n    ) {\n      return;\n    }\n    this.setState({ containerWidth: width });\n    this.requestAnimationFrame(() => {\n      this.goToPage(this.state.currentPage);\n    });\n  },\n\n  _children(children = this.props.children) {\n    return React.Children.map(children, child => child);\n  },\n\n  render() {\n    const overlayTabs =\n      this.props.tabBarPosition === 'overlayTop' ||\n      this.props.tabBarPosition === 'overlayBottom';\n    const tabBarProps = {\n      goToPage: this.goToPage,\n      tabs: this._children().map(child => child.props.heading),\n      tabStyle: this._children().map(child => child.props.tabStyle),\n      activeTabStyle: this._children().map(child => child.props.activeTabStyle),\n      textStyle: this._children().map(child => child.props.textStyle),\n      activeTextStyle: this._children().map(\n        child => child.props.activeTextStyle\n      ),\n      tabHeaderStyle: this._children().map(child =>\n        _.get(child.props.heading.props, 'style', undefined)\n      ),\n      disabled: this._children().map(child => child.props.disabled),\n      activeTab: this.state.currentPage,\n      scrollValue: this.state.scrollValue,\n      containerWidth: this.state.containerWidth\n    };\n\n    if (this.props.tabBarBackgroundColor) {\n      tabBarProps.backgroundColor = this.props.tabBarBackgroundColor;\n    }\n    if (this.props.tabBarActiveTextColor) {\n      tabBarProps.activeTextColor = this.props.tabBarActiveTextColor;\n    }\n    if (this.props.tabBarInactiveTextColor) {\n      tabBarProps.inactiveTextColor = this.props.tabBarInactiveTextColor;\n    }\n    if (this.props.tabBarTextStyle) {\n      tabBarProps.textStyle = this.props.tabBarTextStyle;\n    }\n    if (this.props.tabBarUnderlineStyle) {\n      tabBarProps.underlineStyle = this.props.tabBarUnderlineStyle;\n    }\n    if (this.props.tabContainerStyle) {\n      tabBarProps.tabContainerStyle = this.props.tabContainerStyle;\n    }\n    if (overlayTabs) {\n      tabBarProps.style = {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        [this.props.tabBarPosition === 'overlayTop' ? 'top' : 'bottom']: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0.7)'\n      };\n    }\n\n    return (\n      <View\n        style={[styles.container, this.props.style]}\n        onLayout={this._handleLayout}\n      >\n        {(this.props.tabBarPosition === 'top' ||\n          this.props.tabBarPosition === 'overlayTop') &&\n          this.renderTabBar(tabBarProps)}\n        {this.renderScrollableContent()}\n        {(this.props.tabBarPosition === 'bottom' ||\n          this.props.tabBarPosition === 'overlayBottom') &&\n          this.renderTabBar(tabBarProps)}\n      </View>\n    );\n  }\n});\n\nexport default ScrollableTabView;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  scrollableContentAndroid: {\n    flex: 1\n  }\n});\n"],"file":"index.js"}