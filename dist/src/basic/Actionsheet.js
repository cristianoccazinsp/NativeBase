var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.ActionSheetContainer=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _shoutem=require("../theme/shoutem");var _mapPropsToStyleNames=_interopRequireDefault(require("../utils/mapPropsToStyleNames"));var _commonColor=_interopRequireWildcard(require("../theme/variables/commonColor"));var _Text=require("./Text");var _Icon=require("./Icon");var _Left=require("./Left");var _Right=require("./Right");var _Body=require("./Body");var _ListItem=require("./ListItem");var _Root=require("./Root");var _jsxFileName="/Users/cristiano/Desktop/trabajo/zinspector/NativeBase/src/basic/Actionsheet.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var ActionSheetContainer=function(_Component){(0,_inherits2.default)(ActionSheetContainer,_Component);var _super=_createSuper(ActionSheetContainer);function ActionSheetContainer(props){var _this;(0,_classCallCheck2.default)(this,ActionSheetContainer);_this=_super.call(this,props);_this.state={modalVisible:false,items:[]};return _this;}(0,_createClass2.default)(ActionSheetContainer,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.autoHide&&this.props.duration){console.debug("It's not recommended to set autoHide false with duration");}}},{key:"showActionSheet",value:function showActionSheet(config,callback){if(_reactNative.Platform.OS===_commonColor.PLATFORM.IOS){if(typeof config.options[0]==='object'){var options=config.options;var filtered=options.map(function(item){return item.text;});var filteredConfig=(0,_extends2.default)({},config,{options:filtered});_reactNative.ActionSheetIOS.showActionSheetWithOptions(filteredConfig,callback);}else{_reactNative.ActionSheetIOS.showActionSheetWithOptions(config,callback);}}else{this.setState({items:config.options,title:config.title,message:config.message,destructiveButtonIndex:config.destructiveButtonIndex,cancelButtonIndex:config.cancelButtonIndex,modalVisible:true,callback:callback});}}},{key:"hideActionSheet",value:function hideActionSheet(){this.setState({modalVisible:false});}},{key:"render",value:function render(){var _this2=this;return _react.default.createElement(_reactNative.Modal,{animationType:'fade',transparent:true,visible:this.state.modalVisible,onRequestClose:function onRequestClose(){_this2.state.callback(_this2.state.cancelButtonIndex);_this2.setState({modalVisible:false});},__self:this,__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:7}},_react.default.createElement(_reactNative.TouchableOpacity,{activeOpacity:1,onPress:function onPress(){_this2.state.callback(_this2.state.cancelButtonIndex);_this2.setState({modalVisible:false});},style:styles.containerTouchable,__self:this,__source:{fileName:_jsxFileName,lineNumber:93,columnNumber:9}},_react.default.createElement(_reactNative.TouchableOpacity,{activeOpacity:1,style:styles.innerTouchable,__self:this,__source:{fileName:_jsxFileName,lineNumber:100,columnNumber:11}},this.state.title?_react.default.createElement(_Text.Text,{style:styles.touchableText,__self:this,__source:{fileName:_jsxFileName,lineNumber:102,columnNumber:15}},this.state.title):null,_react.default.createElement(_reactNative.FlatList,{style:[styles.flatList,{marginTop:this.state.title?_commonColor.default.marginTop:0}],data:this.state.items,keyExtractor:function keyExtractor(item,index){return String(index);},renderItem:function renderItem(_ref){var index=_ref.index,item=_ref.item;return typeof _this2.state.items[0]==='string'?_react.default.createElement(_ListItem.ListItem,{onPress:function onPress(){_this2.state.callback(parseInt(index));_this2.setState({modalVisible:false});},style:styles.listItem,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:113,columnNumber:19}},_react.default.createElement(_Text.Text,{__self:_this2,__source:{fileName:_jsxFileName,lineNumber:119,columnNumber:21}},item)):_react.default.createElement(_ListItem.ListItem,{onPress:function onPress(){_this2.state.callback(parseInt(index));_this2.setState({modalVisible:false});},style:[styles.listItem,{height:_commonColor.default.listItemHeight}],icon:true,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:122,columnNumber:19}},_react.default.createElement(_Left.Left,{__self:_this2,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:21}},_react.default.createElement(_Icon.Icon,{name:item.icon,type:item.iconType,style:{color:item.iconColor?item.iconColor:undefined},__self:_this2,__source:{fileName:_jsxFileName,lineNumber:135,columnNumber:23}})),_react.default.createElement(_Body.Body,{style:styles.listItemBody,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:143,columnNumber:21}},_react.default.createElement(_Text.Text,{__self:_this2,__source:{fileName:_jsxFileName,lineNumber:144,columnNumber:23}},item.text)),_react.default.createElement(_Right.Right,{__self:_this2,__source:{fileName:_jsxFileName,lineNumber:146,columnNumber:21}}));},__self:this,__source:{fileName:_jsxFileName,lineNumber:104,columnNumber:13}}))));}}],[{key:"show",value:function show(config,callback){var inst=_Root.Root.getActionSheetInstance();if(inst){inst._root.showActionSheet(config,callback);}}},{key:"hide",value:function hide(){var inst=_Root.Root.getActionSheetInstance();if(inst){inst._root.hideActionSheet();}}}]);return ActionSheetContainer;}(_react.Component);ActionSheetContainer.propTypes=(0,_extends2.default)({},_reactNative.ViewPropTypes);var styles=_reactNative.StyleSheet.create({containerTouchable:{backgroundColor:_commonColor.default.containerTouchableBackgroundColor,flex:1,justifyContent:'flex-end'},flatList:{marginHorizontal:_commonColor.default.marginHorizontal},innerTouchable:{backgroundColor:_commonColor.default.innerTouchableBackgroundColor,minHeight:_commonColor.default.minHeight,maxHeight:_reactNative.Dimensions.get('window').height/2,padding:_commonColor.default.padding,elevation:_commonColor.default.elevation},listItem:{borderColor:_commonColor.default.listItemBorderColor,marginLeft:_commonColor.default.marginLeft},listItemBody:{borderColor:_commonColor.default.listItemBorderColor,paddingLeft:_commonColor.default.marginLeft/2},touchableText:{color:_commonColor.default.touchableTextColor}});var StyledActionSheetContainer=(0,_shoutem.connectStyle)('NativeBase.ActionSheetContainer',{},_mapPropsToStyleNames.default)(ActionSheetContainer);exports.ActionSheetContainer=StyledActionSheetContainer;
//# sourceMappingURL=Actionsheet.js.map