{"version":3,"sources":["../../../src/basic/Accordion.js"],"names":["DefaultHeader","props","expanded","expandedIcon","expandedIconStyle","headerStyle","icon","iconStyle","title","variables","context","theme","variable","styles","defaultHeader","backgroundColor","fontSize","accordionIconFontSize","color","React","Component","DefaultContent","content","contentStyle","padding","accordionContentPadding","AccordionSubItem","state","fadeAnim","Animated","Value","timing","toValue","duration","useNativeDriver","start","children","style","opacity","AccordionItem","index","item","onAccordionClose","onAccordionOpen","renderContent","renderHeader","setSelected","Accordion","selected","setState","undefined","dataArray","borderColor","accordionBorderColor","borderWidth","String","i","StyleSheet","create","flexDirection","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  TouchableWithoutFeedback,\n  FlatList,\n  StyleSheet,\n  View,\n} from 'react-native';\n\nimport variable from '../theme/variables/platform';\n\nimport {Text} from './Text';\nimport {Icon} from './Icon';\n\nclass DefaultHeader extends React.Component {\n  render() {\n    const {\n      expanded,\n      expandedIcon,\n      expandedIconStyle,\n      headerStyle,\n      icon,\n      iconStyle,\n      title,\n    } = this.props;\n\n    const variables = this.context.theme\n      ? this.context.theme['@@shoutem.theme/themeStyle'].variables\n      : variable;\n\n    return (\n      <View\n        style={[\n          styles.defaultHeader,\n          headerStyle || {backgroundColor: variables.headerStyle},\n        ]}>\n        <Text> {title}</Text>\n        <Icon\n          style={[\n            {fontSize: variables.accordionIconFontSize},\n            expanded\n              ? expandedIcon && expandedIconStyle\n                ? expandedIconStyle\n                : {color: variables.expandedIconStyle}\n              : icon && iconStyle\n              ? iconStyle\n              : {color: variables.iconStyle},\n          ]}\n          name={\n            expanded ? expandedIcon || 'ios-arrow-up' : icon || 'ios-arrow-down'\n          }\n        />\n      </View>\n    );\n  }\n}\n\nclass DefaultContent extends React.Component {\n  render() {\n    const {content, contentStyle} = this.props;\n    const variables = this.context.theme\n      ? this.context.theme['@@shoutem.theme/themeStyle'].variables\n      : variable;\n    return (\n      <Text\n        style={[\n          {padding: variable.accordionContentPadding},\n          contentStyle || {backgroundColor: variables.contentStyle},\n        ]}>\n        {content}\n      </Text>\n    );\n  }\n}\n\nclass AccordionSubItem extends React.Component {\n  state = {\n    fadeAnim: new Animated.Value(0.3),\n  };\n  componentDidMount() {\n    Animated.timing(this.state.fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: true,\n    }).start();\n  }\n  render() {\n    const {children, style} = this.props;\n    const {fadeAnim} = this.state;\n    return (\n      <Animated.View style={{...style, opacity: fadeAnim}}>\n        {children}\n      </Animated.View>\n    );\n  }\n}\n\nclass AccordionItem extends React.Component {\n  render() {\n    const {\n      contentStyle,\n      expanded,\n      expandedIcon,\n      expandedIconStyle,\n      headerStyle,\n      icon,\n      iconStyle,\n      index,\n      item,\n      onAccordionClose,\n      onAccordionOpen,\n      renderContent,\n      renderHeader,\n      setSelected,\n    } = this.props;\n\n    return (\n      <View>\n        <TouchableWithoutFeedback\n          onPress={() => {\n            onAccordionOpen && !expanded && onAccordionOpen(item, index);\n            onAccordionClose && expanded && onAccordionClose(item, index);\n            setSelected(index);\n          }}>\n          <View>\n            {renderHeader ? (\n              renderHeader(item, expanded)\n            ) : (\n              <DefaultHeader\n                expanded={expanded}\n                expandedIcon={expandedIcon}\n                expandedIconStyle={expandedIconStyle}\n                headerStyle={headerStyle}\n                icon={icon}\n                iconStyle={iconStyle}\n                title={item.title}\n              />\n            )}\n          </View>\n        </TouchableWithoutFeedback>\n        {expanded ? (\n          <AccordionSubItem>\n            {renderContent ? (\n              renderContent(item)\n            ) : (\n              <DefaultContent\n                content={item.content}\n                contentStyle={contentStyle}\n              />\n            )}\n          </AccordionSubItem>\n        ) : null}\n      </View>\n    );\n  }\n}\n\nexport class Accordion extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: props.expanded,\n    };\n  }\n\n  setSelected(index) {\n    if (this.state.selected === index) {\n      this.setState({selected: undefined});\n    } else {\n      this.setState({selected: index});\n    }\n  }\n\n  render() {\n    const {\n      contentStyle,\n      dataArray,\n      expandedIcon,\n      expandedIconStyle,\n      headerStyle,\n      icon,\n      iconStyle,\n      onAccordionClose,\n      onAccordionOpen,\n      renderContent,\n      renderHeader,\n      style,\n    } = this.props;\n\n    const variables = this.context.theme\n      ? this.context.theme['@@shoutem.theme/themeStyle'].variables\n      : variable;\n    return (\n      <FlatList\n        data={dataArray}\n        extraData={this.state}\n        style={[\n          {\n            borderColor: variables.accordionBorderColor,\n            borderWidth: variables.borderWidth,\n          },\n          style,\n        ]}\n        keyExtractor={(item, index) => String(index)}\n        renderItem={({item, index}) => (\n          <AccordionItem\n            key={String(index)}\n            contentStyle={contentStyle}\n            expanded={this.state.selected === index}\n            expandedIcon={expandedIcon}\n            expandedIconStyle={expandedIconStyle}\n            headerStyle={headerStyle}\n            icon={icon}\n            iconStyle={iconStyle}\n            index={index}\n            item={item}\n            renderContent={renderContent}\n            renderHeader={renderHeader}\n            onAccordionOpen={onAccordionOpen}\n            onAccordionClose={onAccordionClose}\n            setSelected={(i) => this.setSelected(i)}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  defaultHeader: {\n    flexDirection: 'row',\n    padding: variable.accordionContentPadding,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n});\n"],"file":"Accordion.js"}