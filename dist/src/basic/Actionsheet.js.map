{"version":3,"sources":["../../../src/basic/Actionsheet.js"],"names":["ActionSheetContainer","props","state","modalVisible","items","autoHide","duration","console","debug","config","callback","Platform","OS","PLATFORM","IOS","options","filtered","map","item","text","filteredConfig","ActionSheetIOS","showActionSheetWithOptions","setState","title","message","destructiveButtonIndex","cancelButtonIndex","styles","containerTouchable","innerTouchable","touchableText","flatList","marginTop","commonColor","index","String","parseInt","listItem","height","listItemHeight","icon","iconType","color","iconColor","undefined","listItemBody","inst","Root","getActionSheetInstance","_root","showActionSheet","hideActionSheet","Component","propTypes","ViewPropTypes","StyleSheet","create","backgroundColor","containerTouchableBackgroundColor","flex","justifyContent","marginHorizontal","innerTouchableBackgroundColor","minHeight","maxHeight","Dimensions","get","padding","elevation","borderColor","listItemBorderColor","marginLeft","paddingLeft","touchableTextColor","StyledActionSheetContainer","mapPropsToStyleNames"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n  ActionSheetIOS,\n  Dimensions,\n  FlatList,\n  Modal,\n  Platform,\n  TouchableOpacity,\n  StyleSheet,\n  ViewPropTypes,\n} from 'react-native';\n\nimport {connectStyle} from '../theme/shoutem';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\nimport commonColor, {PLATFORM} from '../theme/variables/commonColor';\n\nimport {Text} from './Text';\nimport {Icon} from './Icon';\nimport {Left} from './Left';\nimport {Right} from './Right';\nimport {Body} from './Body';\nimport {ListItem} from './ListItem';\nimport {Root} from './Root';\n\nclass ActionSheetContainer extends Component {\n  static show(config, callback) {\n    const inst = Root.getActionSheetInstance();\n    if (inst) {\n      inst._root.showActionSheet(config, callback);\n    }\n  }\n  static hide() {\n    const inst = Root.getActionSheetInstance();\n    if (inst) {\n      inst._root.hideActionSheet();\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false,\n      items: [],\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.autoHide && this.props.duration) {\n      console.debug(\"It's not recommended to set autoHide false with duration\");\n    }\n  }\n\n  showActionSheet(config, callback) {\n    if (Platform.OS === PLATFORM.IOS) {\n      if (typeof config.options[0] === 'object') {\n        const options = config.options;\n        const filtered = options.map((item) => {\n          return item.text;\n        });\n\n        const filteredConfig = {...config, options: filtered};\n        ActionSheetIOS.showActionSheetWithOptions(filteredConfig, callback);\n      } else {\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\n      }\n    } else {\n      this.setState({\n        items: config.options,\n        title: config.title,\n        message: config.message,\n        destructiveButtonIndex: config.destructiveButtonIndex,\n        cancelButtonIndex: config.cancelButtonIndex,\n        modalVisible: true,\n        callback,\n      });\n    }\n  }\n\n  hideActionSheet() {\n    this.setState({modalVisible: false});\n  }\n\n  render() {\n    return (\n      <Modal\n        animationType={'fade'}\n        transparent\n        visible={this.state.modalVisible}\n        onRequestClose={() => {\n          this.state.callback(this.state.cancelButtonIndex);\n          this.setState({modalVisible: false});\n        }}>\n        <TouchableOpacity\n          activeOpacity={1}\n          onPress={() => {\n            this.state.callback(this.state.cancelButtonIndex);\n            this.setState({modalVisible: false});\n          }}\n          style={styles.containerTouchable}>\n          <TouchableOpacity activeOpacity={1} style={styles.innerTouchable}>\n            {this.state.title ? (\n              <Text style={styles.touchableText}>{this.state.title}</Text>\n            ) : null}\n            <FlatList\n              style={[\n                styles.flatList,\n                {marginTop: this.state.title ? commonColor.marginTop : 0},\n              ]}\n              data={this.state.items}\n              keyExtractor={(item, index) => String(index)}\n              renderItem={({index, item}) => {\n                return typeof this.state.items[0] === 'string' ? (\n                  <ListItem\n                    onPress={() => {\n                      this.state.callback(parseInt(index));\n                      this.setState({modalVisible: false});\n                    }}\n                    style={styles.listItem}>\n                    <Text>{item}</Text>\n                  </ListItem>\n                ) : (\n                  <ListItem\n                    onPress={() => {\n                      this.state.callback(parseInt(index));\n                      this.setState({modalVisible: false});\n                    }}\n                    style={[\n                      styles.listItem,\n                      {\n                        height: commonColor.listItemHeight,\n                      },\n                    ]}\n                    icon>\n                    <Left>\n                      <Icon\n                        name={item.icon}\n                        type={item.iconType}\n                        style={{\n                          color: item.iconColor ? item.iconColor : undefined,\n                        }}\n                      />\n                    </Left>\n                    <Body style={styles.listItemBody}>\n                      <Text>{item.text}</Text>\n                    </Body>\n                    <Right />\n                  </ListItem>\n                );\n              }}\n            />\n          </TouchableOpacity>\n        </TouchableOpacity>\n      </Modal>\n    );\n  }\n}\n\nActionSheetContainer.propTypes = {\n  ...ViewPropTypes,\n};\n\nconst styles = StyleSheet.create({\n  containerTouchable: {\n    backgroundColor: commonColor.containerTouchableBackgroundColor,\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  flatList: {\n    marginHorizontal: commonColor.marginHorizontal,\n  },\n  innerTouchable: {\n    backgroundColor: commonColor.innerTouchableBackgroundColor,\n    minHeight: commonColor.minHeight,\n    maxHeight: Dimensions.get('window').height / 2,\n    padding: commonColor.padding,\n    elevation: commonColor.elevation,\n  },\n  listItem: {\n    borderColor: commonColor.listItemBorderColor,\n    marginLeft: commonColor.marginLeft,\n  },\n  listItemBody: {\n    borderColor: commonColor.listItemBorderColor,\n    paddingLeft: commonColor.marginLeft / 2,\n  },\n  touchableText: {\n    color: commonColor.touchableTextColor,\n  },\n});\n\nconst StyledActionSheetContainer = connectStyle(\n  'NativeBase.ActionSheetContainer',\n  {},\n  mapPropsToStyleNames,\n)(ActionSheetContainer);\n\nexport {StyledActionSheetContainer as ActionSheetContainer};\n"],"file":"Actionsheet.js"}